<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="
       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
       http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd">

    <!--
    <import resource="classpath:xxx.xml"/>
    -->
    <bean id="host" class="me.hnguyen.eywa.config.entity.HostEntityImpl">
        <property name="key" value="${config.key}"/>
        <property name="name" value="${amq.name}"/>
        <property name="port" value="${amq.port}"/>
        <property name="username" value="${amq.username}"/>
        <property name="password" value="${amq.password}"/>
    </bean>
    
    <bean id="receiver" class="me.hnguyen.eywa.config.entity.ReceiverEntityImpl">
        <property name="key" value="${config.key}"/>
        <property name="name" value="${receiver.name}"/>
        <property name="queue" ref="queue"/>
    </bean>
    
    <bean id="sender" class="me.hnguyen.eywa.config.entity.SenderEntityImpl">
        <property name="key" value="${config.key}"/>
        <property name="name" value="${sender.name}"/>
        <property name="routing" value="${sender.routing}"/>
        <property name="exchange" ref="exchange"/>
    </bean>
    
    <bean id="binding" class="me.hnguyen.eywa.config.entity.BindingEntityImpl">
        <property name="key" value="${config.key}"/>
        <property name="name" value="${binding.name}"/>
        <property name="routing" value="${binding.routing}"/>
        <property name="exchange" ref="exchange"/>
        <property name="queue" ref="queue"/>
    </bean>
    
    <bean id="exchange" class="me.hnguyen.eywa.config.entity.ExchangeEntityImpl">
        <property name="key" value="${config.key}"/>
        <property name="name" value="${exchange.name}"/>
        <property name="type" value="${exchange.type}"/>
        <property name="durable" value="${exchange.durable}"/>
        <property name="delay" value="${exchange.delay}"/>
        <property name="autoDelete" value="${exchange.autoDelete}"/>
        <property name="internal" value="${exchange.internal}"/>
    </bean>
    
    <bean id="queue" class="me.hnguyen.eywa.config.entity.QueueEntityImpl">
        <property name="key" value="${config.key}"/>
        <property name="name" value="${queue.name}"/>
        <property name="durable" value="${queue.durable}"/>
        <property name="exclusive" value="${queue.exclusive}"/>
        <property name="autoDelete" value="${queue.autoDelete}"/>
    </bean>
    <!--
    <bean class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
        <property name="location">
            <value>eywa_config.properties</value>
        </property>
    </bean>
    -->
</beans>
